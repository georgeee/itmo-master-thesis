\section {Применение меры Жаккара}

Итак, мы хотим построить метрику, достаточно хорошо показывающую связи между понятиями, имеющими место в натуральном языке.
За основу для такой метрики кажется естественным взять т.н. меру Жаккара.

### Определение ###

Мера Жаккара (Jaccard index) для двух произвольных множеств $A, B$ определяется как отношение мощности пересечения к мощности объединения:

\begin{equation*}
  JI(A, B) = \frac {| A \cap B |} {| A \cup B |}
\end{equation*}

При решении задачи мы использовали модификацию меры Жаккара, отличающуюся несколько большими значениями весов:

\begin{equation*}
  JI'(A, B) = \frac {2 | A \cap B |} {| A | + | B |}
\end{equation*}

### Применение ###

Применить меру Жаккара для связывания синсетов из разных языков "напрямую" очевидно невозможно,
т.к. слова разных языков гарантированно будут различны (и мы получим $JI'(a,b) \equiv 0$).
Т.е. нам нужно как минимум решить задачу сопоставления синсету $a \in A$ из тезауруса языка $A$
множества $\tau (a)$ наборов слов языка $B$, и уже эти наборы можно будет сравнить по мере Жаккара с неким синсетом $b \in B$.

Задать $\tau(a)$ можно множеством способов. Например, следующим образом:

* переводить каждое слово $\alpha \in a$ синсета $a \in A$
* $\tau (a)$ определить как множество, содержащее единственным своим элементом объединение всех переводов всех $\alpha$

Такой подход, однако, на практике оказывается неприменим, т.к. в силу полисемии, синонимии каждому слову как правило соответствует сразу несколько переводов, $x \in \tau(a)$ окажется слишком раздутым, что приведет к низким и малорелевантным значениям $JI'$.

### Структура словарей ###

Рассмотрим структуру классического двуязычного (переводного) словаря. Словарь разбит на статьи, каждая соответствует одному слову языка $A$.

Существенной особенностью большинства словарей (замеченной в частности и авторами работы [@pwn-to-ru-auto]) является то, что в пределах статьи слова даны не просто в виде списка, но в сгруппированном по значениям виде.

Например, так выглядит статья для слова _окружение_ в словаре LingvoUniversal (версия 2003 года):

> **окружение**
>
> 1. environment; surroundings; milieu
> 2. environs, nighbo(u)rhood; entourage
> 3. (воен.) encirclement
>

Заметим, что каждая такая группа в словарной статье предствляет собой набор слов из языка $B$ (как правило синонимов), потому:

* $\tau(a)$ можно определить как объединение всех таких групп для всех слов исходного синсета $a \in A$
* такое построение представляется достаточно естественным, т.к. мы будем сравнивать синсеты как наборы синонимов с переводами --- другими наборами синонимов

### Метрика ###

Построим граф связности, используя в качестве метрики меру Жаккара, построенную поверх определенного описанным выше способом $\tau(a)$. Вес ребра между синсетами $a \in A$, $b \in B$ определим как:

\begin{equation} \label{eq:w1}
  w (a \in A, b \in B) = max \{ JC'(x, b) \; | \; x \in \tau(a) \}
\end{equation}

Полученный таким способом граф, однако, обладает рядом недостатков:

* по-прежнему непозволительно большое число связей со схожими (достаточно высокими) весами
    + для синсета _SID-13957629-N [environment] (среда, контекст, окружение)_ --- 22 связи
    + для синсета _SID-08637195-N [public square, square] ((городская) площадь)_ --- 35 связей
    + для синсета _SID-08016141-N [set] (математическое множество)_ --- более 50 связей
* далеко не всегда связи устроены таким образом, что в первых 5-10 синсетах лежит искомый синсет
    + из-за проблемы дубликатов (подробнее --- см. следующий раздел) часто 7-10 синсетов с максимальным весом соответствуют одному нерелевантному понятию русского языка, а то понятие, которое в действительности нас интересует находится на 15-17 месте
* для заданного синсета из PWN веса синсетов из YARN чаще всего группируются по значениям, как $1$, $\pm 0.7$, $\pm 0.35$ и между собой малоразличимы

Кроме того было замечено, что для различных синсетов из PWN значения максимального веса смежных ребер значительно разнятся, от $0.3$ до $1$, из-за чего первоначально выдвинутая нами гипотеза отсекать по порогу (threshold) оказалась неприменимой. Однако если рассматривать конкретно взятый синсет из PWN, найденные синсеты из YARN вообще говоря неплохо различаются между собой, потому дальнейшее использование меры Жаккара показалось нам целесообразным (после применения к ней ряда улучшений).
