\section {Блокчейн}

\begin{definition}{Блокчейн}
(в переводе с английского "цепочка блоков") -- структура данных, представляющая собой последовательный непрерывно расширяющийся список записей, связанных между собой по принципу односвязного списка, с использованием криптографически стойкой хэш-функции для установления связей.

Запись в блокчейне вместе с её связью принято называть блоком. В реализациях структуры блокчейн, как правило, каждый связью является ссылка на предыдущий блок, где ссылкой является значение криптографически стойкой хэш-функции, примененной к предыдущему блоку.

\end{definition}


\begin{equation} \label{def:blockchain}
\begin{split}
& Blockchain_{\langle H, Data \rangle} =
\{ \enspace \langle origin, blocks \rangle
\mid origin \in Data,
\\
& \enspace blocks \in List_{\langle Data, Value_H \rangle},
\\
& \enspace \langle index, block \equiv \langle data, value_H \rangle \rangle \in blocks
\\
& \quad\quad \implies
     \begin{cases}
       value_H = H(origin), & \text {if } index = 1
       \\
       value_H = H(blocks[index - 1]), & \text {otherwise}
    \end{cases} 
\\
& \}
\end{split}
\end{equation}

\image{blockchain}{Диаграма структуры Блокчейн}

Построенная таким образом структура данных имеет интересное свойство по сравнению с односвязным списком:

\begin{equation} \label{prop:bc_modify}
\begin{split}
& \forall i, n, x_0, ..., x_n, x_i' \\
& \langle x_0, [ \enspace 
 block_1 \equiv \langle x_1, H(x_0) \rangle, ...,
\\
& \quad\quad block_i \equiv \langle x_i, H(block_{i-1}) \rangle, ...,
\\
& \quad\quad block_n \equiv \langle x_n, H(block_{n-1}) \rangle
\enspace ] \rangle \in Blockchain_{\langle H, Data \rangle},
\\
& i \neq n, x_i \neq x_i' \implies
\\
\\
& \langle x_0, [ \enspace 
 block_1 \equiv \langle x_1, H(x_0) \rangle, ...,
\\
& \quad\quad block_i' \equiv \langle x_i', H(block_{i-1}) \rangle, ...,
\\
& \quad\quad block_{i+1} \equiv \langle x_{i+1}, H(block_i) \rangle, ...,
\\
& \quad\quad block_n \equiv \langle x_n, H(block_{n-1}) \rangle
\enspace ] \rangle \not\in Blockchain_{\langle H, Data \rangle},
\end{split}
\end{equation}

Другими словами, невозможно поменять содержание блока, не меняя при этом последующих блоков в структуре. Заметим, что данное свойство опирается на предположении о стойкости криптографической функции $H$, в частности: для данного $h \in Value_h$ практически невозможно подобрать $x$ такой что $H(x) = h$.

\subsection{Применение структуры Блокчейн}

Гораздо чаще термин "Блокчейн" применяется не к структуре как к таковой, а к классу систем, использующих её как одну из основных компонент. Большая часть известных систем, использующих эту структуру, представляют из себя распределенные базы данных, как правило специализированные под конкретные области применения. Примеры таких систем:

* Криптовалюты (распределенная база данных, предназначенная для хранения информации о счетах, проведения транзакций над ними).
  * Примеры: Bitcoin \citep{btc-web}, NXT \citep{nxt-web}, Cardano \citep{cardano-web}.
* Системы для распределенных вычислений с использованием т.н. смарт-контрактов.
  * Как частный случай распределенных вычислений, используются для реализации финансовых контрактов.
  * Примеры: Ethereum \citep{eth-web}, NEO \citep{neo-web}.
* Распределенные базы данных.
  * Как правило, реализуются для хранения данных, относящихся к конкретной области применения
  * Примеры: Namecoin \citep{namecoin-web} (альтернатива системе DNS), Disciplina \citep{dscp-web} (система для хранения и обмена данных об академической успеваемости)

Структура Блокчейн нашла такое широкое применение в построении распределенных баз данных в первую очередь в следствии свойства \ref{prop:bc_modify}. Если участники сети достигли консенсуса (возможно, в нестрогом смысле) относительно блока $b$, то они автоматически находятся в солгасии со всеми блоками, предшествующим $b$ в структуре.
